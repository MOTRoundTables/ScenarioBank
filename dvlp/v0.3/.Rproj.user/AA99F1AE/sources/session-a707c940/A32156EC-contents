library(shiny)

ui <- fluidPage(
  sidebarLayout(
    sidebarPanel(
      checkboxInput("moreControls", 
                    label = "Show advanced controls?",
                    value = FALSE
      )
    ),
    mainPanel(
      tabsetPanel(
        id = "basic",
        type = "hidden",
        tabPanelBody("panel1",
                     numericInput("basicControl", label = "Basic:", 0),
        )
      ),
      tabsetPanel(
        id = "advanced",
        type = "hidden",
        tabPanelBody("emptyPanel", style = "display: none"),
        tabPanelBody("panel2",
                     numericInput("advancedCotrol", label = "Advanced:", 1)
        )
      )
    )
  )
)

server <- function(input, output, session) {
  observeEvent(input$moreControls, {
    if (input$moreControls) {
      updateTabsetPanel(session, "advanced", selected = "panel2")
    } else {
      updateTabsetPanel(session, "advanced", selected = "emptyPanel")
    }
  })
}

shinyApp(ui, server)
